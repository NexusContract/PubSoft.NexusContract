# 统一收单交易关闭接口

## 功能说明

**接口名称**：`alipay.trade.close`

用于交易创建后，用户在一定时间内未进行支付，可调用该接口直接将未付款的交易进行关闭。

## 请求

- **URL**：`/v3/alipay/trade/close`
- **Method**：`POST`
- **Content-Type**：`application/json`

### 请求参数

| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| extend_params.is_fulfilled | string | 否 | 标识是否通过其他方式履约 | `true or false` |
| notify_url | string | 否 | 通知地址 | `` |
| operator_id | string | 否 | 商家操作员编号 id，由商家自定义。 | `YX01` |
| out_trade_no | string | 否 | 订单支付时传入的商户订单号,和支付宝交易号不能同时为空。 trade_no,out_trade_no如果同时存在优先取trade_no | `HZ0120131127001` |
| trade_no | string | 否 | 该交易在支付宝系统中的交易流水号。最短 16 位，最长 64 位。和out_trade_no不能同时为空，如果同时传了 out_trade_no和 trade_no，则以 trade_no为准。 | `2013112611001004680073956707` |

## 返回结果

- **Content-Type**：`application/json`

### 返回参数

| 字段名 | 类型 | 说明 | 示例值 |
|--------|------|------|--------|
| out_trade_no | string | 创建交易传入的商户订单号 | `YX_001` |
| trade_no | string | 支付宝交易号 | `2013112111001004500000675971` |

### 成功响应示例

```json
{
  "code": "10000",
  "msg": "Success",
  "out_trade_no": "YX_001",
  "trade_no": "2013112111001004500000675971"
}
```

### 失败响应示例

```json
{
  "code": "40004",
  "msg": "Business Failed",
  "sub_code": "ACQ.TRADE_HAS_SUCCESS",
  "sub_msg": "交易已被支付"
}
```

## 状态码说明

| 状态码 | 说明 |
|--------|------|
| 10000  | 业务处理成功 |
| 40004  | 业务处理失败 |
| 20000  | 服务不可用 |

## 请求示例 (cURL)

```bash
curl -X POST https://openapi.alipay.com/v3/alipay/trade/close \
  -H "Content-Type: application/json" \
  -d '{
  "extend_params": {
    "is_fulfilled": "true or false"
  },
  "notify_url": "string",
  "operator_id": "YX01",
  "out_trade_no": "HZ0120131127001",
  "trade_no": "2013112611001004680073956707"
}'
```
