# ADR-005 依赖倒置 (DIP) 边界

**状态**: 提议
**日期**: 2026-01-11
**决策者**: 架构组
**相关**: `DEPENDENCIES.md`

---

## 1. 上下文 (Context)
- **现状**: 实现层与抽象层间出现循环或跨层引用。
- **痛点**: 难以独立替换实现或进行单元测试。

## 2. 决策 (Decision)
- **核心逻辑**: 将接口放在 `Abstractions`，实现放在 `Hosting`；Provider 不应直接引用 YARP 等具体实现。

## 3. 理由 (Rationale)
- **业务收益**: 提升可替换性与测试性。
- **技术权衡**: 需要在 Host 层编写适配器/绑定层。

## 4. 影响与约束 (Impact)
- **副作用**: 增加工程分层与少量适配器代码。
- **容错底线**: 保持接口稳定以避免频繁破坏下游实现。
