# ADR-008 Redis-First 存储策略

**状态**: 提议
**日期**: 2026-01-11
**决策者**: 架构组
**相关**: `REDIS_GUIDE.md`

---

## 1. 上下文 (Context)
- **现状**: 多处使用 Redis 存储关键运行态数据，持久化与淘汰策略不一致。
- **痛点**: 容量与持久化策略不明确，可能在故障恢复时丢失关键数据。

## 2. 决策 (Decision)
- **核心逻辑**: 采用 Redis 作为主存储（Redis-First），推荐 RDB + AOF 混合持久化；根据 SLA 与容量再决定淘汰策略（不要将 `noeviction` 作为唯一规则）。

## 3. 理由 (Rationale)
- **业务收益**: 保持高性能同时提供可恢复策略。
- **技术权衡**: 需要评估持久化对写入延迟和 IO 的影响。

## 4. 影响与约束 (Impact)
- **副作用**: 需要设定监控与备份策略并演练恢复流程。
- **容错底线**: 明确在 Redis 不可用时的降级路径和数据丢失边界。
