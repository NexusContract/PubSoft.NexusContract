# ADR-015 懒加载与永久缓存策略

**状态**: 提议
**日期**: 2026-01-11
**决策者**: 架构组
**相关**: 会议达成共识

---

## 1. 上下文 (Context)
- **现状**: 执行态资源加载时常产生延迟与依赖问题。
- **痛点**: 离线或断网场景下执行态不可用影响可用性。

## 2. 决策 (Decision)
- **核心逻辑**: HttpApi 对执行态使用懒加载，并对关键对象采用 `NeverRemove` 永久缓存策略；配合监控与重启/重载机制。

## 3. 理由 (Rationale)
- **业务收益**: 在断网或下游不可靠时，提高执行层自治能力。
- **技术权衡**: 内存占用需衡量并与清理/版本机制配合。

## 4. 影响与约束 (Impact)
- **副作用**: 需要内存配额监控与缓存失效机制。
- **容错底线**: 达到安全阈值时应触发回收或限制新商家入驻。
