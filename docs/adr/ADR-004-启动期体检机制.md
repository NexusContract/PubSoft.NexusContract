# ADR-004 启动期体检机制

**状态**: 提议
**日期**: 2026-01-11
**决策者**: 架构组
**相关**: `IMPLEMENTATION.zh-CN.md`

---

## 1. 上下文 (Context)
- **现状**: 运行期反射与动态绑定在生产环境偶发导致延迟峰值。
- **痛点**: 运行时反射带来不确定的延迟路径，影响 P99 指标。

## 2. 决策 (Decision)
- **核心逻辑**: 在启动期通过 `Preload`/预热冻结元数据与映射，最大化在运行期避免反射调用。

## 3. 理由 (Rationale)
- **业务收益**: 降低运行期不可预测延迟，提升稳定性。
- **技术权衡**: 需要启动期更多校验与预热步骤，延长启动时间。

## 4. 影响与约束 (Impact)
- **副作用**: 启动脚本与 CI 需增加自检项。
- **容错底线**: 若预热失败，应有降级路径并记录指标以便排查。
